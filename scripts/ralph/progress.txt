# Ralph Progress Log
Started: 2026년  3월  1일 일요일 10시 45분 24초 KST

## Codebase Patterns
- Char fields use `c.bbox.x0`, `c.bbox.top`, etc. (not `c.x0` directly)
- Word fields also use `w.bbox.x0`, etc.
- lopdf imports must be alphabetically ordered for cargo fmt: `use lopdf::{Document, Object, Stream, dictionary};`
- Test helpers: `fixtures_dir()`, `generated(name)`, `open_fixture(path)` pattern
- pdfplumber-py tests fail due to missing Python dylib — exclude with `--exclude pdfplumber-py`
- Rotation fixture `rotated_pages.pdf` has 4 pages (0°, 90°, 180°, 270°) generated by fpdf2 + pypdf
- Our implementation correctly normalizes rotated page coordinates — text extracts in proper reading order for all rotations
---

## 2026-03-01 - US-154-1
- What was implemented: 29 integration tests for text extraction on rotated pages (0°, 90°, 180°, 270°)
- Files changed:
  - `crates/pdfplumber/tests/rotation_integration.rs` (new, 720 lines)
  - `scripts/ralph/prd.json` (marked US-154-1 passes: true)
  - `scripts/ralph/progress.txt` (this file)
- Dependencies added: None
- **Learnings for future iterations:**
  - The existing rotated_pages.pdf fixture works well — all rotations extract correctly
  - pdfplumber-rs handles rotation better than Python pdfplumber for this fixture (Python produces reversed text for 180°/270°, Rust extracts correctly)
  - lopdf can create test PDFs programmatically with `Document::with_version`, `dictionary!`, `Stream`
  - PageGeometry normalizes all coordinates to top-left origin regardless of /Rotate value
  - For 90°/270° rotations, page width and height are correctly swapped
---
