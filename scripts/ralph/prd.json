{
  "project": "pdfplumber-rs",
  "branchName": "ralph/issue-165-zero-page-pdf",
  "description": "Issue #165: Fix parser failure on issue-297-example.pdf (0-page PDF)",
  "relatedIssue": 165,
  "userStories": [
    {
      "id": "US-165-1",
      "title": "Handle 0-page PDFs gracefully",
      "description": "issue-297-example.pdf fails to parse. According to Python pdfplumber, this is a valid PDF that opens successfully but has 0 extractable pages. The parser should handle this gracefully â€” opening the file should succeed, and the page count should be 0. Diagnose why the parser fails (likely the page tree is empty or structured unusually) and fix it to handle this edge case.",
      "acceptanceCriteria": [
        "issue-297-example.pdf opens without parse error (Pdf::open_file succeeds)",
        "Page count is 0 (no panic, no error)",
        "Iterating pages produces no results (not an error)",
        "Unit test added for 0-page PDF handling",
        "No regression on existing tests: cargo test --workspace passes",
        "cargo fmt --all -- --check passes",
        "cargo clippy --workspace -- -D warnings passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Test: crates/pdfplumber/tests/real_world_cross_validation.rs (rw_issue_297). The PDF may have an empty /Pages tree or a degenerate structure. Check how lopdf handles the page tree traversal and add defensive handling for empty/missing page nodes. A 0-page PDF is valid per the PDF spec."
    }
  ]
}
